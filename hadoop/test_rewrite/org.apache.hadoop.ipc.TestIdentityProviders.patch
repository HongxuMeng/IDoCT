diff --git a/hadoop-common-project/hadoop-common/src/test/java/org/apache/hadoop/ipc/TestIdentityProviders.java b/hadoop-common-project/hadoop-common/src/test/java/org/apache/hadoop/ipc/TestIdentityProviders.java
index 263841246bf..df1a1115025 100644
--- a/hadoop-common-project/hadoop-common/src/test/java/org/apache/hadoop/ipc/TestIdentityProviders.java
+++ b/hadoop-common-project/hadoop-common/src/test/java/org/apache/hadoop/ipc/TestIdentityProviders.java
@@ -54,18 +54,12 @@ public int getPriorityLevel() {
   @Test
   public void testPluggableIdentityProvider() {
     Configuration conf = new Configuration();
-    conf.set(CommonConfigurationKeys.IPC_IDENTITY_PROVIDER_KEY,
-      "org.apache.hadoop.ipc.UserIdentityProvider");
-
     List<IdentityProvider> providers = conf.getInstances(
       CommonConfigurationKeys.IPC_IDENTITY_PROVIDER_KEY,
       IdentityProvider.class);
 
     assertTrue(providers.size() == 1);
 
-    IdentityProvider ip = providers.get(0);
-    assertNotNull(ip);
-    assertEquals(ip.getClass(), UserIdentityProvider.class);
   }
 
   @Test
